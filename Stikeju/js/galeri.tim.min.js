(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper"],d):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=d(window.blueimp.helper||window.jQuery))})(function(d){function g(a,b){if(void 0===document.body.style.maxHeight)return null;if(!this||this.options!==g.prototype.options)return new g(a,b);a&&a.length?(this.list=a,this.num=a.length,this.initOptions(b),this.initialize()):this.console.log("blueimp Gallery: No or empty list provided as first argument.",a)}d.extend(g.prototype,
{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",
playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5E3,index:0,preloadRange:2,transitionSpeed:400,
slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"===typeof window.console.log?window.console:{log:function(){}},support:function(a){var b=
{touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},c=function(){var c=b.transition,e,h;document.body.appendChild(a);c&&(e=c.name.slice(0,-9)+"ransform",void 0!==a.style[e]&&(a.style[e]="translateZ(0)",h=window.getComputedStyle(a).getPropertyValue(c.prefix+"transform"),b.transform={prefix:c.prefix,name:e,translate:!0,translateZ:!!h&&"none"!==h}));void 0!==a.style.backgroundSize&&(b.backgroundSize={},a.style.backgroundSize="contain",b.backgroundSize.contain=
"contain"===window.getComputedStyle(a).getPropertyValue("background-size"),a.style.backgroundSize="cover",b.backgroundSize.cover="cover"===window.getComputedStyle(a).getPropertyValue("background-size"));document.body.removeChild(a)};(function(b,c){for(var h in c)if(c.hasOwnProperty(h)&&void 0!==a.style[h]){b.transition=c[h];b.transition.name=h;break}})(b,{webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",
prefix:"-o-"},transition:{end:"transitionend",prefix:""}});if(document.body)c();else d(document).on("DOMContentLoaded",c);return b}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){this.initStartIndex();if(!1===this.initWidget())return!1;this.initEventListeners();this.onslide(this.index);this.ontransitionend();this.options.startSlideshow&&this.play()},slide:function(a,b){window.clearTimeout(this.timeout);
var c=this.index,f,e;if(c!==a&&1!==this.num){b||(b=this.options.transitionSpeed);if(this.support.transform){this.options.continuous||(a=this.circle(a));f=Math.abs(c-a)/(c-a);this.options.continuous&&(e=f,f=-this.positions[this.circle(a)]/this.slideWidth,f!==e&&(a=-f*this.num+a));for(e=Math.abs(c-a)-1;e;)--e,this.move(this.circle((a>c?a:c)-e-1),this.slideWidth*f,0);a=this.circle(a);this.move(c,this.slideWidth*f,b);this.move(a,0,b);this.options.continuous&&this.move(this.circle(a-f),-(this.slideWidth*
f),0)}else a=this.circle(a),this.animate(c*-this.slideWidth,a*-this.slideWidth,b);this.onslide(a)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var b=this;window.clearTimeout(this.timeout);this.interval=a||this.options.slideshowInterval;1<this.elements[this.index]&&(this.timeout=
this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,f){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(a,f)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval));this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout);this.interval=null;this.container.removeClass(this.options.playingClass)},add:function(a){a.concat||(a=Array.prototype.slice.call(a));this.list.concat||(this.list=Array.prototype.slice.call(this.list));
this.list=this.list.concat(a);this.num=this.list.length;2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass));this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(a=this.num-a.length;a<this.num;a+=1)this.addSlide(a),this.positionSlide(a);this.positions.length=this.num;this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty();this.unloadAllSlides();this.slides=[]},handleClose:function(){var a=
this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass);a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle);this.options.clearSlides&&this.resetSlides();this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var a=this,b=function(c){c.target===a.container[0]&&(a.container.off(a.support.transition.end,
b),a.handleClose())};this.options.onclose&&this.options.onclose.call(this);this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,b),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,b,c){this.translateX(a,b,c);this.positions[a]=b},translate:function(a,b,c,f){a=this.slides[a].style;var e=this.support.transform;a[this.support.transition.name+"Duration"]=
f+"ms";a[e.name]="translate("+b+"px, "+c+"px)"+(e.translateZ?" translateZ(0)":"")},translateX:function(a,b,c){this.translate(a,b,0,c)},translateY:function(a,b,c){this.translate(a,0,b,c)},animate:function(a,b,c){if(c)var f=this,e=(new Date).getTime(),h=window.setInterval(function(){var d=(new Date).getTime()-e;d>c?(f.slidesContainer[0].style.left=b+"px",f.ontransitionend(),window.clearInterval(h)):f.slidesContainer[0].style.left=Math.floor(d/c*100)/100*(b-a)+a+"px"},4);else this.slidesContainer[0].style.left=
b+"px"},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&1===a.which&&"VIDEO"!==a.target.nodeName&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchmove(a))},
onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(a){if(this.touchStart){var b=a.target,c=a.relatedTarget;if(!c||c!==b&&!d.contains(b,c))this.onmouseup(a)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);a=(a.originalEvent||a).touches[0];this.touchStart={x:a.pageX,y:a.pageY,time:Date.now()};this.isScrolling=void 0;this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);
var b=(a.originalEvent||a).touches[0],c=(a.originalEvent||a).scale,f=this.index;if(!(1<b.length||c&&1!==c))if(this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:b.pageX-this.touchStart.x,y:b.pageY-this.touchStart.y},b=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(b)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(f,this.touchDelta.y+this.positions[f],0);else for(a.preventDefault(),window.clearTimeout(this.timeout),
this.options.continuous?a=[this.circle(f+1),f,this.circle(f-1)]:(this.touchDelta.x=b/=!f&&0<b||f===this.num-1&&0>b?Math.abs(b)/this.slideWidth+1:1,a=[f],f&&a.push(f-1),f<this.num-1&&a.unshift(f+1));a.length;)f=a.pop(),this.translateX(f,b+this.positions[f],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);a=this.index;var b=this.options.transitionSpeed,c=this.slideWidth,f=250>Number(Date.now()-this.touchStart.time),e=f&&20<Math.abs(this.touchDelta.x)||Math.abs(this.touchDelta.x)>
c/2,h=!a&&0<this.touchDelta.x||a===this.num-1&&0>this.touchDelta.x,d=!e&&this.options.closeOnSwipeUpOrDown&&(f&&20<Math.abs(this.touchDelta.y)||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(h=!1);f=0>this.touchDelta.x?-1:1;this.isScrolling?d?this.close():this.translateY(a,0,b):e&&!h?(e=a+f,h=a-f,d=c*f,c=-c*f,this.options.continuous?(this.move(this.circle(e),d,0),this.move(this.circle(a-2*f),c,0)):0<=e&&e<this.num&&this.move(e,d,0),this.move(a,this.positions[a]+d,b),this.move(this.circle(h),
this.positions[this.circle(h)]+d,b),a=this.circle(h),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-c,b),this.move(a,0,b),this.move(this.circle(a+1),c,b)):(a&&this.move(a-1,-c,b),this.move(a,0,b),a<this.num-1&&this.move(a+1,c,b))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var b=this.slides[this.index];a&&b!==a.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,b]))},
oncomplete:function(a){var b=a.target||a.srcElement,c=b&&b.parentNode,f;b&&c&&(f=this.getNodeIndex(c),d(c).removeClass(this.options.slideLoadingClass),"error"===a.type?(d(c).addClass(this.options.slideErrorClass),this.elements[f]=3):this.elements[f]=2,b.clientHeight>this.container[0].clientHeight&&(b.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===c&&this.play(),this.setTimeout(this.options.onslidecomplete,[f,c]))},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},
onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),a.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.next())}},
handleClick:function(a){var b=this.options,c=a.target||a.srcElement,f=c.parentNode,e=function(a){return d(c).hasClass(a)||d(f).hasClass(a)};e(b.toggleClass)?(this.preventDefault(a),this.toggleControls()):e(b.prevClass)?(this.preventDefault(a),this.prev()):e(b.nextClass)?(this.preventDefault(a),this.next()):e(b.closeClass)?(this.preventDefault(a),this.close()):e(b.playPauseClass)?(this.preventDefault(a),this.toggleSlideshow()):f===this.slidesContainer[0]?(this.preventDefault(a),b.closeOnSlideClick?
this.close():this.toggleControls()):f.parentNode&&f.parentNode===this.slidesContainer[0]&&(this.preventDefault(a),this.toggleControls())},onclick:function(a){if(this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y)))delete this.touchDelta;else return this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass);a===this.num-1?this.container.addClass(this.options.rightEdgeClass):
this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a);this.loadElements(a);this.options.unloadElements&&this.unloadElements(a);this.setTitle(a)},onslide:function(a){this.index=a;this.handleSlide(a);this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){a=this.slides[a].firstChild.title;var b=this.titleElement;b.length&&(this.titleElement.empty(),a&&b[0].appendChild(document.createTextNode(a)))},setTimeout:function(a,
b,c){var f=this;return a&&window.setTimeout(function(){a.apply(f,b||[])},c||0)},imageFactory:function(a,b){var c=this,f=this.imagePrototype.cloneNode(!1),e=a,h=this.options.stretchImages,g,k,n=function(a){if(!g){a={type:a.type,target:k};if(!k.parentNode)return c.setTimeout(n,[a]);g=!0;d(f).off("load error",n);h&&"load"===a.type&&(k.style.background='url("'+e+'") center no-repeat',k.style.backgroundSize=h);b(a)}},l;"string"!==typeof e&&(e=this.getItemProperty(a,this.options.urlProperty),l=this.getItemProperty(a,
this.options.titleProperty));!0===h&&(h="contain");(h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h)?k=this.elementPrototype.cloneNode(!1):(k=f,f.draggable=!1);l&&(k.title=l);d(f).on("load error",n);f.src=e;return k},createElement:function(a,b){var c=a&&this.getItemProperty(a,this.options.typeProperty),c=c&&this[c.split("/")[0]+"Factory"]||this.imageFactory,c=a&&c.call(this,a,b);c||(c=this.elementPrototype.cloneNode(!1),this.setTimeout(b,[{type:"error",target:c}]));d(c).addClass(this.options.slideContentClass);
return c},loadElement:function(a){this.elements[a]||(this.slides[a].firstChild?this.elements[a]=d(this.slides[a]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[a]=1,d(this.slides[a]).addClass(this.options.slideLoadingClass),this.slides[a].appendChild(this.createElement(this.list[a],this.proxyListener))))},loadElements:function(a){var b=Math.min(this.num,2*this.options.preloadRange+1),c;for(c=0;c<b;c+=1)a+=c*(0===c%2?-1:1),a=this.circle(a),this.loadElement(a)},unloadElements:function(a){var b,
c;for(b in this.elements)this.elements.hasOwnProperty(b)&&(c=Math.abs(a-b),c>this.options.preloadRange&&c+this.options.preloadRange<this.num&&(this.unloadSlide(b),delete this.elements[b]))},addSlide:function(a){var b=this.slidePrototype.cloneNode(!1);b.setAttribute("data-index",a);this.slidesContainer[0].appendChild(b);this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];b.style.width=this.slideWidth+"px";this.support.transform&&(b.style.left=a*-this.slideWidth+"px",this.move(a,this.index>
a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(a){var b;a||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),d(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,b=this.options.clearSlides||this.slides.length!==this.num);this.slideWidth=this.container[0].offsetWidth;
this.slideHeight=this.container[0].offsetHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";b&&this.resetSlides();for(a=0;a<this.num;a+=1)b&&this.addSlide(a),this.positionSlide(a);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0));this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(a){var b;a=this.slides[a];
b=a.firstChild;null!==b&&a.removeChild(b)},unloadAllSlides:function(){var a,b;a=0;for(b=this.slides.length;a<b;a++)this.unloadSlide(a)},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,
function(b,f,e,d,g){f=g||f||e||d&&parseInt(d,10);b&&a&&(a=a[f])});return a},getDataProperty:function(a,b){if(a.getAttribute){var c=a.getAttribute("data-"+b.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"===typeof c){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(c))try{return d.parseJSON(c)}catch(f){}return c}}},getItemProperty:function(a,b){var c=a[b];void 0===c&&(c=this.getDataProperty(a,b),void 0===c&&(c=this.getNestedProperty(a,b)));return c},initStartIndex:function(){var a=
this.options.index,b=this.options.urlProperty,c;if(a&&"number"!==typeof a)for(c=0;c<this.num;c+=1)if(this.list[c]===a||this.getItemProperty(this.list[c],b)===this.getItemProperty(a,b)){a=c;break}this.index=this.circle(parseInt(a,10)||0)},initEventListeners:function(){var a=this,b=this.slidesContainer,c=function(b){a["on"+(a.support.transition&&a.support.transition.end===b.type?"transitionend":b.type)](b)};d(window).on("resize",c);d(document.body).on("keydown",c);this.container.on("click",c);if(this.support.touch)b.on("touchstart touchmove touchend touchcancel",
c);else if(this.options.emulateTouchEvents&&this.support.transition)b.on("mousedown mousemove mouseup mouseout",c);if(this.support.transition)b.on(this.support.transition.end,c);this.proxyListener=c},destroyEventListeners:function(){var a=this.slidesContainer,b=this.proxyListener;d(window).off("resize",b);d(document.body).off("keydown",b);this.container.off("click",b);this.support.touch?a.off("touchstart touchmove touchend touchcancel",b):this.options.emulateTouchEvents&&this.support.transition&&
a.off("mousedown mousemove mouseup mouseout",b);this.support.transition&&a.off(this.support.transition.end,b)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var a=this,b=function(c){c.target===a.container[0]&&(a.container.off(a.support.transition.end,b),a.handleOpen())};this.container=d(this.options.container);if(!this.container.length)return this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1;this.slidesContainer=
this.container.find(this.options.slidesContainer).first();if(!this.slidesContainer.length)return this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1;this.titleElement=this.container.find(this.options.titleElement).first();1===this.num&&this.container.addClass(this.options.singleClass);this.options.onopen&&this.options.onopen.call(this);if(this.support.transition&&this.options.displayTransition)this.container.on(this.support.transition.end,b);else this.handleOpen();
this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden");this.container[0].style.display="block";this.initSlides();this.container.addClass(this.options.displayClass)},initOptions:function(a){this.options=d.extend({},this.options);(a&&a.carousel||this.options.carousel&&(!a||!1!==a.carousel))&&d.extend(this.options,this.carouselOptions);d.extend(this.options,a);3>this.num&&(this.options.continuous=this.options.continuous?null:!1);this.support.transition||
(this.options.emulateTouchEvents=!1);this.options.event&&this.preventDefault(this.options.event)}});return g});(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],d):d(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(d,g){d.extend(g.prototype.options,{fullScreen:!1});var a=g.prototype.initialize,b=g.prototype.close;d.extend(g.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?
a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){a.call(this);this.options.fullScreen&&!this.getFullScreenElement()&&
this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen();b.call(this)}});return g});(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],d):d(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(d,g){d.extend(g.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var a=g.prototype.initSlides,b=g.prototype.addSlide,c=g.prototype.resetSlides,f=g.prototype.handleClick,e=g.prototype.handleSlide,h=g.prototype.handleClose;d.extend(g.prototype,{createIndicator:function(a){var b=
this.indicatorPrototype.cloneNode(!1),c=this.getItemProperty(a,this.options.titleProperty),f=this.options.thumbnailProperty,e,h;this.options.thumbnailIndicators&&((h=a.getElementsByTagName&&d(a).find("img")[0])?e=h.src:f&&(e=this.getItemProperty(a,f)),e&&(b.style.backgroundImage='url("'+e+'")'));c&&(b.title=c);return b},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a);this.indicatorContainer[0].appendChild(b);this.indicators.push(b)}},
setActiveIndicator:function(a){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=d(this.indicators[a]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(b){b||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children));a.call(this,
b)},addSlide:function(a){b.call(this,a);this.addIndicator(a)},resetSlides:function(){c.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else if(c.parentNode===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(c));else return f.call(this,a)},handleSlide:function(a){e.call(this,a);this.setActiveIndicator(a)},
handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass);h.call(this)}});return g});(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],d):d(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(d,g){d.extend(g.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var a=g.prototype.handleSlide;d.extend(g.prototype,{handleSlide:function(b){a.call(this,b);this.playingVideo&&this.playingVideo.pause()},
videoFactory:function(a,c,f){var e=this,h=this.options,g=this.elementPrototype.cloneNode(!1),k=d(g),n=[{type:"error",target:g}],l=f||document.createElement("video"),p=this.getItemProperty(a,h.urlProperty),m=this.getItemProperty(a,h.typeProperty),r=this.getItemProperty(a,h.titleProperty),t=this.getItemProperty(a,h.videoPosterProperty);a=this.getItemProperty(a,h.videoSourcesProperty);var q,u;k.addClass(h.videoContentClass);r&&(g.title=r);if(l.canPlayType)if(p&&m&&l.canPlayType(m))l.src=p;else for(;a&&
a.length;)if(m=a.shift(),p=this.getItemProperty(m,h.urlProperty),m=this.getItemProperty(m,h.typeProperty),p&&m&&l.canPlayType(m)){l.src=p;break}t&&(l.poster=t,m=this.imagePrototype.cloneNode(!1),d(m).addClass(h.toggleClass),m.src=t,m.draggable=!1,g.appendChild(m));h=document.createElement("a");h.setAttribute("target","_blank");f||h.setAttribute("download",r);h.href=p;l.src&&(l.controls=!0,(f||d(l)).on("error",function(){e.setTimeout(c,n)}).on("pause",function(){q=!1;k.removeClass(e.options.videoLoadingClass).removeClass(e.options.videoPlayingClass);
u&&e.container.addClass(e.options.controlsClass);delete e.playingVideo;e.interval&&e.play()}).on("playing",function(){q=!1;k.removeClass(e.options.videoLoadingClass).addClass(e.options.videoPlayingClass);e.container.hasClass(e.options.controlsClass)?(u=!0,e.container.removeClass(e.options.controlsClass)):u=!1}).on("play",function(){window.clearTimeout(e.timeout);q=!0;k.addClass(e.options.videoLoadingClass);e.playingVideo=l}),d(h).on("click",function(a){e.preventDefault(a);q?l.pause():l.play()}),g.appendChild(f&&
f.element||l));g.appendChild(h);this.setTimeout(c,[{type:"load",target:g}]);return g}});return g});(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],d):d(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(d,g){if(!window.postMessage)return g;d.extend(g.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var a=g.prototype.textFactory||g.prototype.imageFactory,b=function(a,b,c,d){this.url=a;
this.videoId=b;this.playerId=c;this.clickToPlay=d;this.element=document.createElement("div");this.listeners={}},c=0;d.extend(b.prototype,{canPlayType:function(){return!0},on:function(a,b){this.listeners[a]=b;return this},loadAPI:function(){for(var a=this,b="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",c=document.getElementsByTagName("script"),g=c.length,k,n,l=function(){!n&&a.playOnReady&&a.play();n=!0};g;)if(--g,c[g].src===b){k=c[g];break}k||(k=document.createElement("script"),
k.src=b);d(k).on("load",l);c[0].parentNode.insertBefore(k,c[0]);/loaded|complete/.test(k.readyState)&&l()},onReady:function(){var a=this;this.ready=!0;this.player.addEvent("play",function(){a.hasPlayed=!0;a.onPlaying()});this.player.addEvent("pause",function(){a.onPause()});this.player.addEvent("finish",function(){a.onPause()});this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause();delete this.playStatus},
insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId);a.id=this.playerId;this.element.parentNode.replaceChild(a,this.element);this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);if(this.ready)if(!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform)))this.onPlaying();else this.player.api("play");else(this.playOnReady=
!0,window.$f)?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI()},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}});d.extend(g.prototype,{VimeoPlayer:b,textFactory:function(f,e){var d=this.options,g=this.getItemProperty(f,d.vimeoVideoIdProperty);return g?(void 0===this.getItemProperty(f,d.urlProperty)&&(f[d.urlProperty]="//vimeo.com/"+
g),c+=1,this.videoFactory(f,e,new b(d.vimeoPlayerUrl,g,d.vimeoPlayerIdPrefix+c,d.vimeoClickToPlay))):a.call(this,f,e)}});return g});(function(d){"function"===typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],d):d(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(d,g){if(!window.postMessage)return g;d.extend(g.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var a=g.prototype.textFactory||g.prototype.imageFactory,b=function(a,b,e){this.videoId=a;this.playerVars=b;this.clickToPlay=e;this.element=document.createElement("div");
this.listeners={}};d.extend(b.prototype,{canPlayType:function(){return!0},on:function(a,b){this.listeners[a]=b;return this},loadAPI:function(){var a=this,b=window.onYouTubeIframeAPIReady,e=document.getElementsByTagName("script"),d=e.length;for(window.onYouTubeIframeAPIReady=function(){b&&b.apply(this);a.playOnReady&&a.play()};d;)if(--d,"//www.youtube.com/iframe_api"===e[d].src)return;d=document.createElement("script");d.src="//www.youtube.com/iframe_api";e[0].parentNode.insertBefore(d,e[0])},onReady:function(){this.ready=
!0;this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){g.prototype.setTimeout.call(this,this.checkSeek,null,2E3)},checkSeek:function(){if(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)this.listeners.pause(),delete this.playStatus},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0;this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=
a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);if(this.ready)if(!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform)))this.onPlaying();else this.player.playVideo();else(this.playOnReady=!0,window.YT&&YT.Player)?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},
onError:function(b){a.onError(b)}}})):this.loadAPI()},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}});d.extend(g.prototype,{YouTubePlayer:b,textFactory:function(c,d){var e=this.options,g=this.getItemProperty(c,e.youTubeVideoIdProperty);return g?(void 0===this.getItemProperty(c,e.urlProperty)&&(c[e.urlProperty]="//www.youtube.com/watch?v="+g),void 0===this.getItemProperty(c,e.videoPosterProperty)&&(c[e.videoPosterProperty]=
"//img.youtube.com/vi/"+g+"/maxresdefault.jpg"),this.videoFactory(c,d,new b(g,e.youTubePlayerVars,e.youTubeClickToPlay))):a.call(this,c,d)}});return g});(function(){function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a){if(!this||this.find!==g.prototype.find)return new g(a);this.length=0;if(a)if("string"===typeof a&&(a=this.find(a)),a.nodeType||a===a.window)this.length=1,this[0]=a;else{var b=a.length;for(this.length=b;b;)--b,this[b]=a[b]}}g.extend=d;g.contains=function(a,b){do if(b=b.parentNode,b===a)return!0;while(b);return!1};g.parseJSON=function(a){return window.JSON&&JSON.parse(a)};d(g.prototype,{find:function(a){var b=
this[0]||document;"string"===typeof a&&(a=b.querySelectorAll?b.querySelectorAll(a):"#"===a.charAt(0)?b.getElementById(a.slice(1)):b.getElementsByTagName(a));return new g(a)},hasClass:function(a){return this[0]?(new RegExp("(^|\\s+)"+a+"(\\s+|$)")).test(this[0].className):!1},addClass:function(a){for(var b=this.length,c;b;){--b;c=this[b];if(!c.className){c.className=a;break}if(this.hasClass(a))break;c.className+=" "+a}return this},removeClass:function(a){a=new RegExp("(^|\\s+)"+a+"(\\s+|$)");for(var b=
this.length,c;b;)--b,c=this[b],c.className=c.className.replace(a," ");return this},on:function(a,b){for(var c=a.split(/\s+/),d,e;c.length;)for(a=c.shift(),d=this.length;d;)--d,e=this[d],e.addEventListener?e.addEventListener(a,b,!1):e.attachEvent&&e.attachEvent("on"+a,b);return this},off:function(a,b){for(var c=a.split(/\s+/),d,e;c.length;)for(a=c.shift(),d=this.length;d;)--d,e=this[d],e.removeEventListener?e.removeEventListener(a,b,!1):e.detachEvent&&e.detachEvent("on"+a,b);return this},empty:function(){for(var a=
this.length,b;a;)for(--a,b=this[a];b.hasChildNodes();)b.removeChild(b.lastChild);return this},first:function(){return new g(this[0])}});"function"===typeof define&&define.amd?define(function(){return g}):(window.blueimp=window.blueimp||{},window.blueimp.helper=g)})();